class Library {
    private final Map definitions = [:]

    def setDefinitions(Map values) {
        definitions.putAll(values)
    }

    def propertyMissing(String name) {
        def value = definitions.get(name)
        if (value == null) {
            throw new RuntimeException("Specified library '${name}' is not defined")
        }
        value
    }
}

// Attach to the root project to allow use from sub-projects
project.extensions.create("lib", Library)

// Versions for families of library (multiple artifacts with the same version)
// NOTE: Changing any of these versions may require update of other library versions

def springFrameworkVersion = '4.2.6.RELEASE'
def springBootVersion = '1.3.4.RELEASE'
def springSecurityVersion = '4.1.0.RELEASE'

lib.definitions = [
        aspectjWeaver: "org.aspectj:aspectjweaver:1.8.9",
        servletApi: "javax.servlet:javax.servlet-api:3.1.0",

        springWeb: "org.springframework:spring-web:${springFrameworkVersion}",
        springBoot: "org.springframework.boot:spring-boot:${springBootVersion}",

        prometheus: 'io.prometheus:simpleclient:0.0.14',
        prometheusHotspot: 'io.prometheus:simpleclient_hotspot:0.0.14',
        prometheusServlet: 'io.prometheus:simpleclient_servlet:0.0.14',
]
